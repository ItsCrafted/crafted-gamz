<html lang="en"><head>
  <meta charset="UTF-8">
  <link rel="icon" href="favicon.png">
  <title>Crafted Gamz | Games</title>
  <style>
    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: sans-serif;
      overflow-x: hidden;
    }

    iframe {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: -1;
      border: none;
    }

    .container {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  align-items: center;
  gap: 20px;
  padding-top: 5vh;
}

.box {
  background-color: rgba(0, 0, 0, 0.7);
  border-radius: 12px;
  padding: 20px;
  transition: transform 0.2s ease, background-color 0.3s ease;
  color: white;
  text-align: center;
  display: flex;
  flex-direction: column;
  justify-content: center;
  width: 200px;
  height: 300px;
  margin: 10px; 
}


    .box:hover {
      transform: scale(1.05);
      background-color: #081a2e;
    }

    .box img {
  width: 100%;
  aspect-ratio: 1 / 1;
  object-fit: cover;
  border-radius: 8px;
  margin-bottom: 10px;
}


    .box .text {
      font-size: 1.2em;
      font-weight: bold;
    }
    .search-dropdown {
  width: 500px;
  margin: 0 auto 10px;
  position: relative;
  z-index: 1;
}

  #dropdownSearch {
    width: 100%;
    padding: 12px 16px;
    border-radius: 12px;
    border: 2px solid #4bf9ed;
    background: rgba(0, 0, 0, 0.6);
    color: white;
    font-size: 16px;
    outline: none;
    transition: all 0.3s ease;
    box-shadow: 0 0 5px #4bf9ed;
  }

  #dropdownSearch:focus {
    background: rgba(0, 0, 0, 0.9);
    box-shadow: 0 0 15px #4bf9ed, 0 0 30px #4bf9ed;
  }

#dropdownList {
  list-style: none;
  margin: 0;
  padding: 0;
  position: absolute;
  width: 100%;
  background: rgba(0, 0, 0, 0.8);
  border-radius: 0 0 10px 10px;
  z-index: 1;
  max-height: 200px;
  overflow-y: auto;
  display: none;
}

#dropdownList li {
  padding: 10px;
  color: white;
  cursor: pointer;
}

#dropdownList li:hover {
  background-color: #4bf9ed;
  color: black;
}
h1 {
  font-size: 3rem;
  color: #ffffff;
  font-weight: bold;
  line-height: 1.2;
  margin: 3em auto;
  text-align: center;
}
h2 {
  font-size: 3rem;
  color: #ffffff;
  font-weight: bold;
  line-height: 1.2;
  margin: 3em auto;
  text-align: center;
}
.button {
  background-color: rgba(0, 0, 0, 0.7);
  border-radius: 120px;
  transition: transform 0.2s ease, background-color 0.3s ease;
  color: white;
  text-align: center;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 500px;
  height: 50px;
  text-decoration: none;
  margin-top: 30px;
  border-color: #4bf9ed;
  border-width: 2px;
  border-style: solid;
}

  .button:hover {
    background: rgba(0, 0, 0, 0.9);
    box-shadow: 0 0 15px #4bf9ed, 0 0 30px #4bf9ed;
  }
  </style>
<link rel="stylesheet" href="chrome-extension://ihcjicgdanjaechkgeegckofjjedodee/app/content-style.css"></head>
<body>

  <iframe src="bg.html"></iframe>

  <h1>Popular Games</h1>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
<script src="nav.js" defer></script>


  <div style="color: #4bf9ed; font-weight: bold; font-size: 20px; text-align: center; margin-top: 100px;"></div><div class="search-dropdown">
    <input type="text" id="dropdownSearch" placeholder="Search..." onkeyup="filterDropdown()">
       <ul id="dropdownList"></ul>
  <a class="button" href="all-games.html">Go to all games</a>
  </div>

 <div class="container">
<a href="game.html" class="box" data-id="10-minutes-till-dawn"><img src="img/gicon/10-minutes-till-dawn.png" alt="10 Minutes Till Dawn"><h3>10 Minutes Till Dawn</h3></a>
<a href="game.html" class="box" data-id="2048"><img src="img/gicon/2048.png" alt="2048"><h3>2048</h3></a>
<a href="game.html" class="box" data-id="backrooms"><img src="img/gicon/backrooms.png" alt="Backrooms"><h3>Backrooms</h3></a>
<a href="game.html" class="box" data-id="backrooms2d"><img src="img/gicon/backrooms2d.png" alt="Backrooms 2D"><h3>Backrooms 2D</h3></a>
<a href="game.html" class="box" data-id="bacon-may-die"><img src="img/gicon/bacon-may-die.png" alt="Bacon May Die"><h3>Bacon May Die</h3></a>
<a href="game.html" class="box" data-id="bad-ice-cream-2"><img src="img/gicon/bad-ice-cream-2.png" alt="Bad Ice Cream 2"><h3>Bad Ice Cream 2</h3></a>
<a href="game.html" class="box" data-id="bad-ice-cream-3"><img src="img/gicon/bad-ice-cream-3.png" alt="Bad Ice Cream 3"><h3>Bad Ice Cream 3</h3></a>
<a href="game.html" class="box" data-id="bad-ice-cream"><img src="img/gicon/bad-ice-cream.png" alt="Bad Ice Cream"><h3>Bad Ice Cream</h3></a>
<a href="game.html" class="box" data-id="baldis-basics"><img src="img/gicon/baldis-basics.png" alt="Baldis Basics"><h3>Baldis Basics</h3></a>
<a href="game.html" class="box" data-id="basket-random"><img src="img/gicon/basket-random.png" alt="Basket Random"><h3>Basket Random</h3></a>
<a href="game.html" class="box" data-id="basketball-stars"><img src="img/gicon/basketball-stars.png" alt="Basketball Stars"><h3>Basketball Stars</h3></a>
<a href="game.html" class="box" data-id="bitlife"><img src="img/gicon/bitlife.png" alt="Bitlife"><h3>Bitlife</h3></a>
<a href="game.html" class="box" data-id="bntts"><img src="img/gicon/bntts.png" alt="Big Neon Tower, Tiny Square"><h3>Big Neon Tower, Tiny Square</h3></a>
<a href="game.html" class="box" data-id="btts"><img src="img/gicon/btts.png" alt="Big Tower Tiny Square"><h3>Big Tower Tiny Square</h3></a>
<a href="game.html" class="box" data-id="busandsubway"><img src="img/gicon/busandsubway.png" alt="Subway Surfers"><h3>Subway Surfers</h3></a>
<a href="game.html" class="box" data-id="chess"><img src="img/gicon/chess.png" alt="Chess"><h3>Chess</h3></a>
<a href="game.html" class="box" data-id="cluster-rush"><img src="img/gicon/cluster-rush.png" alt="Cluster Rush"><h3>Cluster Rush</h3></a>
<a href="game.html" class="box" data-id="cmm-client"><img src="img/gicon/cmm-client.png" alt="Cmm Client (Minecraft)"><h3>Cmm Client (Minecraft)</h3></a>
<a href="game.html" class="box" data-id="ctr-holiday"><img src="img/gicon/ctr-holiday.png" alt="Cut The Rope Holiday"><h3>Cut The Rope Holiday</h3></a>
<a href="game.html" class="box" data-id="ctr-tr"><img src="img/gicon/ctr-tr.png" alt="Cut The Rope 2"><h3>Cut The Rope 2</h3></a>
<a href="game.html" class="box" data-id="ctr"><img src="img/gicon/ctr.png" alt="Cut The Rope"><h3>Cut The Rope</h3></a>
<a href="game.html" class="box" data-id="death-run-3d"><img src="img/gicon/death-run-3d.png" alt="Death Run 3D"><h3>Death Run 3D</h3></a>
<a href="game.html" class="box" data-id="drift-boss"><img src="img/gicon/drift-boss.png" alt="Drift Boss"><h3>Drift Boss</h3></a>
<a href="game.html" class="box" data-id="drift-hunters"><img src="img/gicon/drift-hunters.png" alt="Drift Hunters"><h3>Drift Hunters</h3></a>
<a href="game.html" class="box" data-id="drive-mad"><img src="img/gicon/drive-mad.png" alt="Drive Mad"><h3>Drive Mad</h3></a>
<a href="game.html" class="box" data-id="ducklife2"><img src="img/gicon/ducklife2.png" alt="Duck Life 2"><h3>Duck Life 2</h3></a>
<a href="game.html" class="box" data-id="ducklife3"><img src="img/gicon/ducklife3.png" alt="Duck Life 3"><h3>Duck Life 3</h3></a>
<a href="game.html" class="box" data-id="ducklife4"><img src="img/gicon/ducklife4.png" alt="Duck Life 4"><h3>Duck Life 4</h3></a>
<a href="game.html" class="box" data-id="fireboywatergirlforesttemple"><img src="img/gicon/fireboywatergirlforesttemple.png" alt="Fireboy And Watergirl Forest Temple"><h3>Fireboy And Watergirl Forest Temple</h3></a>
<a href="game.html" class="box" data-id="flappy-bird"><img src="img/gicon/flappy-bird.png" alt="Flappy Bird"><h3>Flappy Bird</h3></a>
<a href="game.html" class="box" data-id="getaway-shootout"><img src="img/gicon/getaway-shootout.png" alt="Getaway Shootout"><h3>Getaway Shootout</h3></a>
<a href="game.html" class="box" data-id="learntofly2"><img src="img/gicon/learntofly2.png" alt="Learn To Fly 2"><h3>Learn To Fly 2</h3></a>
<a href="game.html" class="box" data-id="madalin-stunt-cars-2"><img src="img/gicon/madalin-stunt-cars-2.png" alt="Madalin Stunt Cars 2"><h3>Madalin Stunt Cars 2</h3></a>
<a href="game.html" class="box" data-id="madalin-stunt-cars-3"><img src="img/gicon/madalin-stunt-cars-3.png" alt="Madalin Stunt Cars 3"><h3>Madalin Stunt Cars 3</h3></a>
<a href="game.html" class="box" data-id="minecraft-15"><img src="img/gicon/minecraft-15.png" alt="Minecraft 1.5"><h3>Minecraft 1.5</h3></a>
<a href="game.html" class="box" data-id="minecraft-18"><img src="img/gicon/minecraft-18.png" alt="Minecraft 1.8"><h3>Minecraft 1.8</h3></a>
<a href="game.html" class="box" data-id="motox3m-pool"><img src="img/gicon/motox3m-pool.png" alt="Motox 3M Pool Party"><h3>Motox 3M Pool Party</h3></a>
<a href="game.html" class="box" data-id="motox3m-spooky"><img src="img/gicon/motox3m-spooky.png" alt="Motox 3M Spooky Edition"><h3>Motox 3M Spooky Edition</h3></a>
<a href="game.html" class="box" data-id="motox3m-winter"><img src="img/gicon/motox3m-winter.png" alt="Motox 3M Winter Edition"><h3>Motox 3M Winter Edition</h3></a>
<a href="game.html" class="box" data-id="motox3m"><img src="img/gicon/motox3m.png" alt="Motox 3M"><h3>Motox 3M</h3></a>
<a href="game.html" class="box" data-id="motox3m2"><img src="img/gicon/motox3m2.png" alt="Motox 3M 2"><h3>Motox 3M 2</h3></a>
<a href="game.html" class="box" data-id="retro-bowl"><img src="img/gicon/retro-bowl.png" alt="Retro Bowl"><h3>Retro Bowl</h3></a>
<a href="game.html" class="box" data-id="rooftop-snipers"><img src="img/gicon/rooftop-snipers.png" alt="Rooftop Snipers"><h3>Rooftop Snipers</h3></a>
<a href="game.html" class="box" data-id="run"><img src="img/gicon/run.png" alt="Run"><h3>Run</h3></a>
<a href="game.html" class="box" data-id="run2"><img src="img/gicon/run2.png" alt="Run 2"><h3>Run 2</h3></a>
<a href="game.html" class="box" data-id="run3"><img src="img/gicon/run3.png" alt="Run 3"><h3>Run 3</h3></a>
<a href="game.html" class="box" data-id="scrapmetal"><img src="img/gicon/scrapmetal.png" alt="Scrap Metal"><h3>Scrap Metal</h3></a>
<a href="game.html" class="box" data-id="slope"><img src="img/gicon/slope.png" alt="Slope"><h3>Slope</h3></a>
<a href="game.html" class="box" data-id="slope-2"><img src="img/gicon/slope-2.png" alt="Slope 2"><h3>Slope 2</h3></a>
<a href="game.html" class="box" data-id="slope-ball"><img src="img/gicon/slope-ball.png" alt="Slope Ball"><h3>Slope Mobile</h3></a>
<a href="game.html" class="box" data-id="smashkarts"><img src="img/gicon/smashkarts.png" alt="Smash Karts"><h3>Smash Karts</h3></a>
<a href="game.html" class="box" data-id="snowrider3d"><img src="img/gicon/snowrider3d.png" alt="Snow Rider 3D"><h3>Snow Rider 3D</h3></a>
<a href="game.html" class="box" data-id="soccer-random"><img src="img/gicon/soccer-random.png" alt="Soccer Random"><h3>Soccer Random</h3></a>
</div>

<h2>Thats All Folks 🤓☝️</h2>

<script>
  const searchInput = document.getElementById("dropdownSearch");
  const dropdownList = document.getElementById("dropdownList");

  const gameBoxes = document.querySelectorAll(".box h3");

  gameBoxes.forEach(box => {
    const li = document.createElement("li");
    li.textContent = box.textContent;
    li.addEventListener("click", () => {
      const targetBox = Array.from(gameBoxes).find(g => g.textContent === li.textContent);
      const container = targetBox.closest(".box");

      container.scrollIntoView({ behavior: "smooth", block: "center" });

      container.style.boxShadow = "0 0 20px 5px #4bf9ed";
      container.style.border = "2px solid #4bf9ed";

      setTimeout(() => {
        container.style.boxShadow = "";
        container.style.border = "";
      }, 10000);
    });
    dropdownList.appendChild(li);
  });

  function filterDropdown() {
    const value = searchInput.value.toLowerCase();
    const items = dropdownList.getElementsByTagName("li");
    let matches = 0;

    for (let item of items) {
      if (item.textContent.toLowerCase().includes(value)) {
        item.style.display = "";
        matches++;
      } else {
        item.style.display = "none";
      }
    }

    dropdownList.style.display = matches > 0 ? "block" : "none";
  }
</script>
<script>
  const totalGames = document.querySelectorAll(".box").length;

  const counter = document.createElement("div");
  counter.textContent = `Popular Game Count: ${totalGames}`;
  counter.style.color = "#4bf9ed";
  counter.style.fontWeight = "bold";
  counter.style.fontSize = "20px";
  counter.style.textAlign = "center";
  counter.style.marginTop = "100px"; 

  document.body.insertBefore(counter, document.querySelector(".search-dropdown"));
<!-- Firebase SDK -->
</script>
<!-- Firebase SDKs -->
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>

<script>
  const firebaseConfig = {
    apiKey: "AIzaSyCLL2JZUBJwISsLljfMN4wAr3ZSRd4A1Jo",
    authDomain: "craftedgamzvisits.firebaseapp.com",
    projectId: "craftedgamzvisits",
    storageBucket: "craftedgamzvisits.firebase-storage.app",
    messagingSenderId: "935169016483",
    appId: "1:935169016483:web:0ea28fbc25e9f390723516",
    measurementId: "G-23C7D06VFD"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

// Replace your existing Firebase click tracking script with this:

document.querySelectorAll(".box").forEach(box => {
    box.addEventListener("click", async (e) => {
        // Prevent default link behavior temporarily to ensure tracking
        e.preventDefault();
        
        const gameName = box.querySelector("h3")?.textContent.trim();
        if (!gameName) {
            // If no game name, just follow the link
            window.location.href = box.href;
            return;
        }

        console.log(`Tracking click for game: ${gameName}`); // Debug log

        try {
            const gameDoc = db.collection("gameCounts").doc(gameName);
            
            // Use simpler approach - get document first, then update
            const docSnapshot = await gameDoc.get();
            
            if (docSnapshot.exists) {
                // Document exists, increment count
                const currentCount = docSnapshot.data().count || 0;
                await gameDoc.update({ 
                    count: currentCount + 1,
                    lastClicked: firebase.firestore.FieldValue.serverTimestamp()
                });
                console.log(`Updated count for ${gameName}: ${currentCount + 1}`);
            } else {
                // Document doesn't exist, create it
                await gameDoc.set({ 
                    count: 1,
                    lastClicked: firebase.firestore.FieldValue.serverTimestamp(),
                    gameName: gameName
                });
                console.log(`Created new count for ${gameName}: 1`);
            }
            
        } catch (error) {
            console.error("Failed to update game count:", error);
            // Still allow navigation even if tracking fails
        }
        
        // After tracking (success or failure), navigate to the game
        setTimeout(() => {
            window.location.href = box.href;
        }, 100); // Small delay to ensure Firebase write completes
    });
});
</script>

<div style="position: fixed; top: 0px; left: 0px; z-index: 999999;"></div>
<script>
document.querySelectorAll('.box').forEach(el => {
  el.addEventListener('click', e => {
    const gameId = e.currentTarget.getAttribute('data-id');
    if (gameId) {
      localStorage.setItem('gameIds', JSON.stringify([gameId]));
    }
  });
});
</script>
</body>
</html>